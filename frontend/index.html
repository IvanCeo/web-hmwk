<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Лампочки — Главная</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-gray-900 to-gray-700 min-h-screen text-white font-sans">

  <!-- Навигация -->
  <nav class="bg-gray-800 px-6 py-4 flex justify-between items-center shadow-xl">
    <div class="flex items-center gap-3">
      <!-- SVG логотип (можешь заменить на свой) -->
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="36" height="36" class="text-cyan-400 drop-shadow">
        <path d="M12 .75a8.25 8.25 0 0 0-4.135 15.39c.686.398 1.115 1.008 1.134 1.623a.75.75 0 0 0 .577.706c.352.083.71.148 1.074.195.323.041.6-.218.6-.544v-4.661a6.714 6.714 0 0 1-.937-.171.75.75 0 1 1 .374-1.453 5.261 5.261 0 0 0 2.626 0 .75.75 0 1 1 .374 1.452 6.712 6.712 0 0 1-.937.172v4.66c0 .327.277.586.6.545.364-.047.722-.112 1.074-.195a.75.75 0 0 0 .577-.706c.02-.615.448-1.225 1.134-1.623A8.25 8.25 0 0 0 12 .75Z"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.013 19.9a.75.75 0 0 1 .877-.597 11.319 11.319 0 0 0 4.22 0 .75.75 0 1 1 .28 1.473 12.819 12.819 0 0 1-4.78 0 .75.75 0 0 1-.597-.876ZM9.754 22.344a.75.75 0 0 1 .824-.668 13.682 13.682 0 0 0 2.844 0 .75.75 0 1 1 .156 1.492 15.156 15.156 0 0 1-3.156 0 .75.75 0 0 1-.668-.824Z"/>
      </svg>
      <span class="text-2xl font-bold tracking-wide">Наше производство</span>
    </div>
    <div class="flex gap-4 items-center">
      <a href="index.html" class="hover:text-cyan-400 transition">Каталог</a>
      <a href="contacts.html" class="hover:text-cyan-400 transition">Контакты</a>
      <a href="order.html" class="hover:text-cyan-400 transition">Заказ</a>
      <a href="login.html" class="ml-4 px-4 py-1 bg-cyan-400 text-gray-900 rounded-lg font-bold hover:bg-cyan-300 transition">Вход</a>
    </div>
  </nav>

  <!-- Контент -->
  <main class="container mx-auto px-4 md:px-0 mt-10">
    <h1 class="text-4xl font-extrabold mb-10 text-center drop-shadow-lg">Каталог ламп</h1>
    <div id="product-list" class="grid grid-cols-1 md:grid-cols-3 gap-8"></div>
  </main>

  <!-- Футер -->
  <footer class="mt-12 p-4 bg-gray-900 text-center text-sm text-gray-400 rounded-t-2xl shadow-inner">
    2025 © Ламповый завод — всё для любителей света!
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      axios.get('/api/v1/products/')
        .then(({ data }) => {
          const row = document.getElementById('product-list');
          data.forEach(p => {
            const col = document.createElement('div');
            col.innerHTML = `
              <a href="product.html?id=${p.id}" class="block bg-gray-800 rounded-2xl overflow-hidden shadow-lg hover:shadow-cyan-500/20 transform hover:-translate-y-1 hover:scale-105 transition-all duration-300 border border-gray-700 hover:border-cyan-400 group">
                <div class="overflow-hidden h-56 bg-gray-900 flex items-center justify-center">
                  <img src="${p.image_url}" class="w-full h-full object-contain group-hover:scale-110 transition-transform duration-300" alt="${p.name}">
                </div>
                <div class="p-5 flex flex-col gap-2">
                  <h5 class="text-xl font-bold group-hover:text-cyan-400 transition">${p.name}</h5>
                  <p class="text-gray-400 text-sm line-clamp-2 min-h-10">${p.description}</p>
                  <div class="flex justify-between items-center mt-2">
                    <span class="text-lg font-bold text-cyan-400">${p.price} руб.</span>
                    <span class="px-3 py-1 bg-gray-700 rounded-lg text-xs text-gray-300 group-hover:bg-cyan-500 group-hover:text-gray-900 transition">Подробнее</span>
                  </div>
                </div>
              </a>
            `;
            row.appendChild(col);
          });
        })
        .catch(err => console.error('Ошибка загрузки товаров:', err));
    });
  </script>
</body>
</html>
